<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>fonctions_evenements.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Accroche.html">Accroche</a><ul class='methods'><li data-type='method'><a href="Accroche.html#autoSupprime">autoSupprime</a></li><li data-type='method'><a href="Accroche.html#classe">classe</a></li><li data-type='method'><a href="Accroche.html#consignesCinematiques">consignesCinematiques</a></li><li data-type='method'><a href="Accroche.html#couleur">couleur</a></li><li data-type='method'><a href="Accroche.html#demiSoeur">demiSoeur</a></li><li data-type='method'><a href="Accroche.html#epaisseur">epaisseur</a></li><li data-type='method'><a href="Accroche.html#evalueConsigne">evalueConsigne</a></li><li data-type='method'><a href="Accroche.html#genre">genre</a></li><li data-type='method'><a href="Accroche.html#getAbsoluteRotation">getAbsoluteRotation</a></li><li data-type='method'><a href="Accroche.html#getScore">getScore</a></li><li data-type='method'><a href="Accroche.html#k">k</a></li><li data-type='method'><a href="Accroche.html#kRot">kRot</a></li><li data-type='method'><a href="Accroche.html#L1L2">L1L2</a></li><li data-type='method'><a href="Accroche.html#L1S">L1S</a></li><li data-type='method'><a href="Accroche.html#longueurTige">longueurTige</a></li><li data-type='method'><a href="Accroche.html#nbDDL">nbDDL</a></li><li data-type='method'><a href="Accroche.html#O1L1">O1L1</a></li><li data-type='method'><a href="Accroche.html#pilotee">pilotee</a></li><li data-type='method'><a href="Accroche.html#rayon">rayon</a></li><li data-type='method'><a href="Accroche.html#remplisSysteme_liaison">remplisSysteme_liaison</a></li><li data-type='method'><a href="Accroche.html#updateCouleurGraphismes">updateCouleurGraphismes</a></li><li data-type='method'><a href="Accroche.html#updateEpaisseurGraphismes">updateEpaisseurGraphismes</a></li></ul></li><li><a href="Classe_Equivalence.html">Classe_Equivalence</a><ul class='methods'><li data-type='method'><a href="Classe_Equivalence.html#ajouteDemiLiaison">ajouteDemiLiaison</a></li><li data-type='method'><a href="Classe_Equivalence.html#ajouteImage">ajouteImage</a></li><li data-type='method'><a href="Classe_Equivalence.html#ajoutePoint">ajoutePoint</a></li><li data-type='method'><a href="Classe_Equivalence.html#bloque">bloque</a></li><li data-type='method'><a href="Classe_Equivalence.html#changePosition">changePosition</a></li><li data-type='method'><a href="Classe_Equivalence.html#COORD">COORD</a></li><li data-type='method'><a href="Classe_Equivalence.html#couleur">couleur</a></li><li data-type='method'><a href="Classe_Equivalence.html#defloute">defloute</a></li><li data-type='method'><a href="Classe_Equivalence.html#deselectionne">deselectionne</a></li><li data-type='method'><a href="Classe_Equivalence.html#dessineLigne">dessineLigne</a></li><li data-type='method'><a href="Classe_Equivalence.html#echelle">echelle</a></li><li data-type='method'><a href="Classe_Equivalence.html#floute">floute</a></li><li data-type='method'><a href="Classe_Equivalence.html#getLocalPosition">getLocalPosition</a></li><li data-type='method'><a href="Classe_Equivalence.html#getSourisLocal">getSourisLocal</a></li><li data-type='method'><a href="Classe_Equivalence.html#getTorseurCinematique">getTorseurCinematique</a></li><li data-type='method'><a href="Classe_Equivalence.html#getVRotation">getVRotation</a></li><li data-type='method'><a href="Classe_Equivalence.html#historique">historique</a></li><li data-type='method'><a href="Classe_Equivalence.html#lastPosition">lastPosition</a></li><li data-type='method'><a href="Classe_Equivalence.html#longueurHistorique">longueurHistorique</a></li><li data-type='method'><a href="Classe_Equivalence.html#MAJ">MAJ</a></li><li data-type='method'><a href="Classe_Equivalence.html#nom">nom</a></li><li data-type='method'><a href="Classe_Equivalence.html#numero">numero</a></li><li data-type='method'><a href="Classe_Equivalence.html#pushHistorique">pushHistorique</a></li><li data-type='method'><a href="Classe_Equivalence.html#recentreOrigine">recentreOrigine</a></li><li data-type='method'><a href="Classe_Equivalence.html#remplitSysteme">remplitSysteme</a></li><li data-type='method'><a href="Classe_Equivalence.html#restoreLastPosition">restoreLastPosition</a></li><li data-type='method'><a href="Classe_Equivalence.html#sauveLastPosition">sauveLastPosition</a></li><li data-type='method'><a href="Classe_Equivalence.html#selectionne">selectionne</a></li><li data-type='method'><a href="Classe_Equivalence.html#selectionneDeselectionne">selectionneDeselectionne</a></li><li data-type='method'><a href="Classe_Equivalence.html#supprimeDemiLiaison">supprimeDemiLiaison</a></li><li data-type='method'><a href="Classe_Equivalence.html#THETA">THETA</a></li><li data-type='method'><a href="Classe_Equivalence.html#type">type</a></li><li data-type='method'><a href="Classe_Equivalence.html#updateBounds">updateBounds</a></li><li data-type='method'><a href="Classe_Equivalence.html#X">X</a></li><li data-type='method'><a href="Classe_Equivalence.html#Y">Y</a></li></ul></li><li><a href="DemiLiaison.html">DemiLiaison</a><ul class='methods'><li data-type='method'><a href="DemiLiaison.html#autoSupprime">autoSupprime</a></li><li data-type='method'><a href="DemiLiaison.html#classe">classe</a></li><li data-type='method'><a href="DemiLiaison.html#consignesCinematiques">consignesCinematiques</a></li><li data-type='method'><a href="DemiLiaison.html#couleur">couleur</a></li><li data-type='method'><a href="DemiLiaison.html#demiSoeur">demiSoeur</a></li><li data-type='method'><a href="DemiLiaison.html#epaisseur">epaisseur</a></li><li data-type='method'><a href="DemiLiaison.html#evalueConsigne">evalueConsigne</a></li><li data-type='method'><a href="DemiLiaison.html#genre">genre</a></li><li data-type='method'><a href="DemiLiaison.html#getAbsoluteRotation">getAbsoluteRotation</a></li><li data-type='method'><a href="DemiLiaison.html#getScore">getScore</a></li><li data-type='method'><a href="DemiLiaison.html#k">k</a></li><li data-type='method'><a href="DemiLiaison.html#kRot">kRot</a></li><li data-type='method'><a href="DemiLiaison.html#L1L2">L1L2</a></li><li data-type='method'><a href="DemiLiaison.html#nbDDL">nbDDL</a></li><li data-type='method'><a href="DemiLiaison.html#O1L1">O1L1</a></li><li data-type='method'><a href="DemiLiaison.html#pilotee">pilotee</a></li><li data-type='method'><a href="DemiLiaison.html#remplisSysteme_liaison">remplisSysteme_liaison</a></li><li data-type='method'><a href="DemiLiaison.html#updateCouleurGraphismes">updateCouleurGraphismes</a></li><li data-type='method'><a href="DemiLiaison.html#updateEpaisseurGraphismes">updateEpaisseurGraphismes</a></li></ul></li><li><a href="GlissiereFemelle.html">GlissiereFemelle</a><ul class='methods'><li data-type='method'><a href="GlissiereFemelle.html#autoSupprime">autoSupprime</a></li><li data-type='method'><a href="GlissiereFemelle.html#classe">classe</a></li><li data-type='method'><a href="GlissiereFemelle.html#consignesCinematiques">consignesCinematiques</a></li><li data-type='method'><a href="GlissiereFemelle.html#couleur">couleur</a></li><li data-type='method'><a href="GlissiereFemelle.html#demiSoeur">demiSoeur</a></li><li data-type='method'><a href="GlissiereFemelle.html#epaisseur">epaisseur</a></li><li data-type='method'><a href="GlissiereFemelle.html#evalueConsigne">evalueConsigne</a></li><li data-type='method'><a href="GlissiereFemelle.html#genre">genre</a></li><li data-type='method'><a href="GlissiereFemelle.html#getAbsoluteRotation">getAbsoluteRotation</a></li><li data-type='method'><a href="GlissiereFemelle.html#getScore">getScore</a></li><li data-type='method'><a href="GlissiereFemelle.html#k">k</a></li><li data-type='method'><a href="GlissiereFemelle.html#kRot">kRot</a></li><li data-type='method'><a href="GlissiereFemelle.html#L1L2">L1L2</a></li><li data-type='method'><a href="GlissiereFemelle.html#largeur">largeur</a></li><li data-type='method'><a href="GlissiereFemelle.html#longueur">longueur</a></li><li data-type='method'><a href="GlissiereFemelle.html#longueurTige">longueurTige</a></li><li data-type='method'><a href="GlissiereFemelle.html#nbDDL">nbDDL</a></li><li data-type='method'><a href="GlissiereFemelle.html#O1L1">O1L1</a></li><li data-type='method'><a href="GlissiereFemelle.html#pilotee">pilotee</a></li><li data-type='method'><a href="GlissiereFemelle.html#remplisSysteme_liaison">remplisSysteme_liaison</a></li><li data-type='method'><a href="GlissiereFemelle.html#updateCouleurGraphismes">updateCouleurGraphismes</a></li><li data-type='method'><a href="GlissiereFemelle.html#updateEpaisseurGraphismes">updateEpaisseurGraphismes</a></li></ul></li><li><a href="GlissiereMale.html">GlissiereMale</a><ul class='methods'><li data-type='method'><a href="GlissiereMale.html#autoSupprime">autoSupprime</a></li><li data-type='method'><a href="GlissiereMale.html#classe">classe</a></li><li data-type='method'><a href="GlissiereMale.html#consignesCinematiques">consignesCinematiques</a></li><li data-type='method'><a href="GlissiereMale.html#couleur">couleur</a></li><li data-type='method'><a href="GlissiereMale.html#demiSoeur">demiSoeur</a></li><li data-type='method'><a href="GlissiereMale.html#epaisseur">epaisseur</a></li><li data-type='method'><a href="GlissiereMale.html#evalueConsigne">evalueConsigne</a></li><li data-type='method'><a href="GlissiereMale.html#genre">genre</a></li><li data-type='method'><a href="GlissiereMale.html#getAbsoluteRotation">getAbsoluteRotation</a></li><li data-type='method'><a href="GlissiereMale.html#getScore">getScore</a></li><li data-type='method'><a href="GlissiereMale.html#k">k</a></li><li data-type='method'><a href="GlissiereMale.html#kRot">kRot</a></li><li data-type='method'><a href="GlissiereMale.html#L1L2">L1L2</a></li><li data-type='method'><a href="GlissiereMale.html#longueur">longueur</a></li><li data-type='method'><a href="GlissiereMale.html#nbDDL">nbDDL</a></li><li data-type='method'><a href="GlissiereMale.html#O1L1">O1L1</a></li><li data-type='method'><a href="GlissiereMale.html#pilotee">pilotee</a></li><li data-type='method'><a href="GlissiereMale.html#remplisSysteme_liaison">remplisSysteme_liaison</a></li><li data-type='method'><a href="GlissiereMale.html#updateCouleurGraphismes">updateCouleurGraphismes</a></li><li data-type='method'><a href="GlissiereMale.html#updateEpaisseurGraphismes">updateEpaisseurGraphismes</a></li></ul></li><li><a href="Ligne.html">Ligne</a><ul class='methods'><li data-type='method'><a href="Ligne.html#couleur">couleur</a></li></ul></li><li><a href="PivotFemelle.html">PivotFemelle</a><ul class='methods'><li data-type='method'><a href="PivotFemelle.html#autoSupprime">autoSupprime</a></li><li data-type='method'><a href="PivotFemelle.html#classe">classe</a></li><li data-type='method'><a href="PivotFemelle.html#consignesCinematiques">consignesCinematiques</a></li><li data-type='method'><a href="PivotFemelle.html#couleur">couleur</a></li><li data-type='method'><a href="PivotFemelle.html#demiSoeur">demiSoeur</a></li><li data-type='method'><a href="PivotFemelle.html#epaisseur">epaisseur</a></li><li data-type='method'><a href="PivotFemelle.html#evalueConsigne">evalueConsigne</a></li><li data-type='method'><a href="PivotFemelle.html#genre">genre</a></li><li data-type='method'><a href="PivotFemelle.html#getAbsoluteRotation">getAbsoluteRotation</a></li><li data-type='method'><a href="PivotFemelle.html#getScore">getScore</a></li><li data-type='method'><a href="PivotFemelle.html#k">k</a></li><li data-type='method'><a href="PivotFemelle.html#kRot">kRot</a></li><li data-type='method'><a href="PivotFemelle.html#L1L2">L1L2</a></li><li data-type='method'><a href="PivotFemelle.html#longueurTige">longueurTige</a></li><li data-type='method'><a href="PivotFemelle.html#nbDDL">nbDDL</a></li><li data-type='method'><a href="PivotFemelle.html#O1L1">O1L1</a></li><li data-type='method'><a href="PivotFemelle.html#pilotee">pilotee</a></li><li data-type='method'><a href="PivotFemelle.html#rayon">rayon</a></li><li data-type='method'><a href="PivotFemelle.html#remplisSysteme_liaison">remplisSysteme_liaison</a></li><li data-type='method'><a href="PivotFemelle.html#updateCouleurGraphismes">updateCouleurGraphismes</a></li><li data-type='method'><a href="PivotFemelle.html#updateEpaisseurGraphismes">updateEpaisseurGraphismes</a></li></ul></li><li><a href="PivotMale.html">PivotMale</a><ul class='methods'><li data-type='method'><a href="PivotMale.html#autoSupprime">autoSupprime</a></li><li data-type='method'><a href="PivotMale.html#classe">classe</a></li><li data-type='method'><a href="PivotMale.html#consignesCinematiques">consignesCinematiques</a></li><li data-type='method'><a href="PivotMale.html#couleur">couleur</a></li><li data-type='method'><a href="PivotMale.html#demiSoeur">demiSoeur</a></li><li data-type='method'><a href="PivotMale.html#epaisseur">epaisseur</a></li><li data-type='method'><a href="PivotMale.html#evalueConsigne">evalueConsigne</a></li><li data-type='method'><a href="PivotMale.html#genre">genre</a></li><li data-type='method'><a href="PivotMale.html#getAbsoluteRotation">getAbsoluteRotation</a></li><li data-type='method'><a href="PivotMale.html#getScore">getScore</a></li><li data-type='method'><a href="PivotMale.html#k">k</a></li><li data-type='method'><a href="PivotMale.html#kRot">kRot</a></li><li data-type='method'><a href="PivotMale.html#L1L2">L1L2</a></li><li data-type='method'><a href="PivotMale.html#longueurTige">longueurTige</a></li><li data-type='method'><a href="PivotMale.html#nbDDL">nbDDL</a></li><li data-type='method'><a href="PivotMale.html#O1L1">O1L1</a></li><li data-type='method'><a href="PivotMale.html#pilotee">pilotee</a></li><li data-type='method'><a href="PivotMale.html#rayon">rayon</a></li><li data-type='method'><a href="PivotMale.html#remplisSysteme_liaison">remplisSysteme_liaison</a></li><li data-type='method'><a href="PivotMale.html#updateCouleurGraphismes">updateCouleurGraphismes</a></li><li data-type='method'><a href="PivotMale.html#updateEpaisseurGraphismes">updateEpaisseurGraphismes</a></li></ul></li><li><a href="Point.html">Point</a><ul class='methods'><li data-type='method'><a href="Point.html#changePosition">changePosition</a></li><li data-type='method'><a href="Point.html#couleur">couleur</a></li><li data-type='method'><a href="Point.html#diametre">diametre</a></li><li data-type='method'><a href="Point.html#epaisseur">epaisseur</a></li><li data-type='method'><a href="Point.html#MAJ">MAJ</a></li><li data-type='method'><a href="Point.html#nom">nom</a></li></ul></li><li><a href="Schema.html">Schema</a><ul class='methods'><li data-type='method'><a href="Schema.html#ajouteClasse">ajouteClasse</a></li><li data-type='method'><a href="Schema.html#choisitCouleur">choisitCouleur</a></li><li data-type='method'><a href="Schema.html#echelle">echelle</a></li><li data-type='method'><a href="Schema.html#faitBougerLaSimulation">faitBougerLaSimulation</a></li><li data-type='method'><a href="Schema.html#MAJ">MAJ</a></li><li data-type='method'><a href="Schema.html#nbClasses">nbClasses</a></li><li data-type='method'><a href="Schema.html#pushHistoriques">pushHistoriques</a></li><li data-type='method'><a href="Schema.html#reset">reset</a></li><li data-type='method'><a href="Schema.html#restorePositions">restorePositions</a></li><li data-type='method'><a href="Schema.html#sauvePositions">sauvePositions</a></li><li data-type='method'><a href="Schema.html#souris">souris</a></li><li data-type='method'><a href="Schema.html#SOURIS">SOURIS</a></li><li data-type='method'><a href="Schema.html#tSimulation">tSimulation</a></li><li data-type='method'><a href="Schema.html#unite">unite</a></li><li data-type='method'><a href="Schema.html#updateSourisFromStagePosition">updateSourisFromStagePosition</a></li><li data-type='method'><a href="Schema.html#x2X">x2X</a></li><li data-type='method'><a href="Schema.html#X2x">X2x</a></li><li data-type='method'><a href="Schema.html#xSouris">xSouris</a></li><li data-type='method'><a href="Schema.html#XSOURIS">XSOURIS</a></li><li data-type='method'><a href="Schema.html#y2Y">y2Y</a></li><li data-type='method'><a href="Schema.html#Y2y">Y2y</a></li><li data-type='method'><a href="Schema.html#ySouris">ySouris</a></li><li data-type='method'><a href="Schema.html#YSOURIS">YSOURIS</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#affiche_tous_schemas">affiche_tous_schemas</a></li><li><a href="global.html#affiche_toutes_images">affiche_toutes_images</a></li><li><a href="global.html#ajouteLiaison">ajouteLiaison</a></li><li><a href="global.html#cache_tous_schemas">cache_tous_schemas</a></li><li><a href="global.html#cache_toutes_images">cache_toutes_images</a></li><li><a href="global.html#console2HTML">console2HTML</a></li><li><a href="global.html#convertPosition">convertPosition</a></li><li><a href="global.html#creneau">creneau</a></li><li><a href="global.html#deriveGauche3pts">deriveGauche3pts</a></li><li><a href="global.html#ecraseOptions">ecraseOptions</a></li><li><a href="global.html#execute_console">execute_console</a></li><li><a href="global.html#ferme_menus">ferme_menus</a></li><li><a href="global.html#getClasse">getClasse</a></li><li><a href="global.html#getGlobalRotation">getGlobalRotation</a></li><li><a href="global.html#getLocalToLocalRotation">getLocalToLocalRotation</a></li><li><a href="global.html#getScore">getScore</a></li><li><a href="global.html#ITER_MAX">ITER_MAX</a></li><li><a href="global.html#LISTE_LIAISONS">LISTE_LIAISONS</a></li><li><a href="global.html#PRECISION">PRECISION</a></li><li><a href="global.html#resetActions">resetActions</a></li><li><a href="global.html#SCHEMA">SCHEMA</a></li><li><a href="global.html#trouveClasse">trouveClasse</a></li><li><a href="global.html#update_liste_CE">update_liste_CE</a></li><li><a href="global.html#update_liste_CE1">update_liste_CE1</a></li><li><a href="global.html#update_liste_CE2">update_liste_CE2</a></li><li><a href="global.html#updateConsoleMiseEnForme">updateConsoleMiseEnForme</a></li><li><a href="global.html#videSuiveur">videSuiveur</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">fonctions_evenements.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>

// ***********************************************************
/**
 * Fonction qui ferme les menus secondaires éventuellement ouverts
 * et annule les actions en cours.
 */
ferme_menus = function()
{
	$(".menu_secondaire").css("display","none");
	$(".bouton_menu").css("background-color","white");// Remet tous les boutons en blanc
	resetActions();
}

// ***********************************************************
// Ouvre le sous-menu "editer" et referme les autres.
//Si déjà ouvert, ça le ferme
ouvre_ferme_menu_editer = function()
{
	if($("#menu_editer").css("display")=="none")
	{
		ferme_menus();
		$("#menu_editer").css("display","block");
		$("#bouton_editer").css("background-color","#FFDDDD");//Met le bouton en surbrillance
		schema.restorePositions();	//On remet les pièces en place (des fois qu'elles auraient bouger durant la simulation précédente) avant d'éditer
	}
	else
		ferme_menus();
}

// ***********************************************************
// Ouvre le sous-menu "editer" et referme les autres.
//Si déjà ouvert, ça le ferme
ouvre_ferme_menu_simuler = function()
{
	if($("#menu_simuler").css("display")=="none")
	{
		ferme_menus();
		$("#menu_simuler").css("display","block");
		$("#bouton_simuler").css("background-color","#FFDDDD");//Met le bouton en surbrillance
		schema.sauvePositions();	//On sauvegarde les positions initiales
	}
	else
	{
		ferme_menus();
		schema.restorePositions();	//On remet les pièces en place (des fois qu'elles auraient bouger durant la simulation précédente) avant d'éditer
	}
}

// ***********************************************************
// Ajout d'une classe d'équivalence
place_new_CE=function()
{
	if(ACTION == "ajoute une CE")
		resetActions();
	else
	{
		resetActions();
		ACTION="ajoute une CE";
		SOUS_ACTION="";
		$("#bouton_add_CE").css("background-color","#FFDDDD"); //Met le bouton en surbrillance
		
		//Ajout d'une pivot animée sur le curseur
		suiveur.addChild(new Classe_Equivalence_Flottante());
	}

}

// ***********************************************************
// Ajout d'une classe d'équivalence
lance_new_dessin=function()
{
	if(ACTION == "dessin") // Si on clique pour la 1ere fois (pas 2 fois d'affilé)
		resetActions();
	else
	{
		resetActions();
		update_liste_CE();
		ACTION = "DESSIN"
		SOUS_ACTION = "ATTENTE_DEMARRAGE"
		$("#menu_selection_CE").css("display","block");
	}
}


// ***********************************************************
// Ajout d'une liaison pivot
place_new_pivot=function()
{
	if(ACTION == "ajoute liaison" &amp;&amp; SOUS_ACTION == "pivot") // Si on clique pour la 1ere fois (pas 2 fois d'affilé)
		resetActions();
	else
	{
		resetActions();
		//Update des listes
		$("#menu_selection_pieces").css("display","block");
		update_liste_CE1();
		update_liste_CE2();
		update_liste_CE1();
		
		
		ACTION="ajoute liaison";
		SOUS_ACTION="pivot";
		$("#bouton_add_liaison_pivot").css("background-color","#FFDDDD");
		
		//Ajout d'une pivot animée sur le curseur
		suiveur.addChild(new PivotFlottante());
	}
}






// ***********************************************************
			/** Fonction qui ajoute la liaison dans chaque classe d'équivalence à partir des informations globales.
			@param {Number|Classe_Equivalence} [_i=Voir_menu_déroulant] - Numéro de la classe d'équivalence 1 (ou bien référence vers cette classe). Si absent : récupère le numéro dans le menu déroulant (si placé manuellement).
			@param {Number|Classe_Equivalence} [_j=Voir_menu_déroulant] - Numéro de la classe d'équivalence 2 (ou bien référence vers cette classe). Si absent : récupère le numéro dans le menu déroulant (si placé manuellement).
			@param {String} [_liaison=Voir_menu_déroulant] - Nom de la liaison, parmi : "pivot", "glissiere". Si absent, récupère celle du menu déroulant (si placé manuellement).
			@param {Position} [_centre=Position_de_la_souris] - Position de la liaison à placer.
			@return {Boolean} 'true' si la classe est bloquée. 'false' sinon.
			*/
ajouteLiaison = function(_i,_j,_liaison,_centre)
{
	if(typeof(_i)=="undefined")
		var classe1 = getClasse1();
	else if(_i instanceof Classe_Equivalence)
		var classe1 = _i
	else
		var classe1 = schema.classes[_i]
	
	if(typeof(_j)=="undefined")
		var classe2 = getClasse2();
	else if(_j instanceof Classe_Equivalence)
		var classe2 = _j
	else
		var classe2 = schema.classes[_j]
		
	if(typeof(_liaison)=="undefined")
		var liaison = SOUS_ACTION;
	else
		var liaison = _liaison
		
	if(typeof(_centre)=="undefined")
		var centre = {x:schema.XSOURIS(),y:schema.YSOURIS(),contexte:SCHEMA}
	else
		var centre = _centre
		
	var liaisonMale = null;
	var liaisonFemelle = null;


	if(liaison == "pivot")
	{
		liaisonMale = new PivotMale();
		liaisonFemelle = new PivotFemelle();
		
		liaisonMale.rotation=180;
		liaisonMale.couleur(classe1.couleur());
		liaisonMale.demiSoeur(liaisonFemelle);
		
		liaisonFemelle.couleur(classe2.couleur());
		liaisonFemelle.demiSoeur(liaisonMale);
		classe1.ajouteDemiLiaison(liaisonMale,centre);
		classe2.ajouteDemiLiaison(liaisonFemelle,centre);
	}
	
	if(liaison == "glissiere")
	{
		liaisonMale = new GlissiereMale();
		liaisonFemelle = new GlissiereFemelle();
		
		liaisonMale.demiSoeur(liaisonFemelle);
		liaisonFemelle.demiSoeur(liaisonMale);
		
		liaisonMale.couleur(classe1.couleur());
		liaisonFemelle.couleur(classe2.couleur());
		
		classe1.ajouteDemiLiaison(liaisonMale,centre);
		classe2.ajouteDemiLiaison(liaisonFemelle,centre);
	}
	
	
	//On va recentrer l'origine des CE
	//classe1.recentreOrigine();
	//classe2.recentreOrigine();
	
	var liaison = {L1:liaisonMale, L2:liaisonFemelle}
	
	LISTE_LIAISONS.push(liaison);
	
	return liaison
}



// ******************************************************
// Fonction lance ou stop la simulation
lancer_simulation = function()
{
	if(ACTION != "simule")
	{
		resetActions();
		ACTION = "simule";		//on lance la simulation
		$("#bouton_lancer_simulation img").attr('src','./sources/images/icone_simule_pause.svg');
		$("#bouton_lancer_simulation").css("background-color","#FFDDDD");
		//schema.tSimulation(0);	//On réinitialise le temps de simulation
	}
	else
	{
		resetActions();
	}
}


// ********************************************************
// Remet la simulation dans sa position initiale
function reset_simulation()
{
	schema.restorePositions();
	schema.tSimulation(0);	//On réinitialise le temps de simulation
}



// *********************************************************
// Fonction qui sélectionne une classe d'équivalence
// classe peut être une référence vers une classe d'équivalence, ou bien son numéro
// --> Equivalent à maClasse.selectionne()
selectionneClasse = function(classe)
{
	if(typeof classe=="number")
		classe = schema.classes[classe]
	classe.selectionne();
}


// **********************************************************
// Fonction qui désélectionne toutes les classes d'équivalence et leur contenu
deselectionneToutLeMonde = function()
{
	for(var i=0 ; i&lt;schema.classes.length;i++)
	{
		schema.classes[i].deselectionne()
		CLASSE = -1
	}
}


// *********************************************************
// Fonction qui nous place en mode "sélection"
mode_selection = function()
{
	if(ACTION == "SELECTION")
	{
		ACTION = ""
		$("#bouton_select").css("background-color","white");//Met le bouton en surbrillance
		deselectionneToutLeMonde();
	}
	else //On rentre dans le mode sélection
	{
		ACTION = "SELECTION";
		$("#bouton_select").css("background-color","#FFDDDD");//Met le bouton en surbrillance
	}
}


// *********************************************************
// Fonction qui entame la manipulation (simulation) à la main
lancer_agir = function()
{
	if(ACTION == "MANIP")
		resetActions();
	else
	{
		resetActions();
		ACTION="MANIP";
		SOUS_ACTION="PREPARE";
		$("#bouton_agir").css("background-color","#FFDDDD"); //Met le bouton en surbrillance
		
		//Ajout d'une pivot animée sur le curseur
		suiveur.addChild(new AccrocheFlottante());
	}
}


// *********************************************************
// Fonction qui ouvre la boite de dialogue d'ouverture
ouvre_ferme_menu_ouvrir = function()
{
	//Supprime le contenu
	$("#dialog_ouvrir_contenu").empty();
	//met le'icone
	$("#dialog_ouvrir_contenu").append("&lt;div style='text-align:center;'>&lt;img style='width:50px;' src='./sources/images/chargement.svg' alt='Chargement...'/>&lt;/div>");
	$("#dialog_ouvrir").dialog("open");
	
	//Requete liste des mecanismes
	$.post(	"repondeur.php",
			{action:"getMecanismes"},
			getMechanisme_callback,
			"json"
	)
}

// *************************************************
// Fonction callback qui recoit la liste des 
getMechanisme_callback = function(data)
{
	var mecanismes = data.mecanismes
	//Supprime le contenu
	$("#dialog_ouvrir_contenu").empty();
	for(i=0;i&lt;mecanismes.length;i++)
	{
		var mecanism = mecanismes[i];
		toto=mecanism;
		var nom = mecanism.nom;
		var image = mecanism.image;
		var lien = mecanism.lien;
		var code = "&lt;a class='mecanisme_a_ouvrir' href='?schema="+lien+"'>&lt;h1>"+nom+"&lt;/h1>&lt;div class='image_mecanisme_a_ouvrir'>&lt;img src='"+image+"'/>&lt;/div>&lt;/div>"
		$("#dialog_ouvrir_contenu").append(code);
	}	
}





// *********************************************
// Fonction qui ouvre la console
ouvreConsole = function()
{
	$("#dialog_console").dialog("open");
}

</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Fri Aug 12 2022 23:19:36 GMT+0200 (heure d’été d’Europe centrale) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
